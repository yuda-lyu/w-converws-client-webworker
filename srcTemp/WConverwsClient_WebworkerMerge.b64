!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(e){return!(!e||"undefined"==typeof e.length)}function t(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],c(e,this)}function r(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(r){return void f(n.promise,r)}i(n.promise,o)}else(1===e._state?i:f)(n.promise,e._value)})):e._deferreds.push(n)}function i(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof o)return e._state=3,e._value=n,void u(e);if("function"==typeof t)return void c(function(e,n){return function(){e.apply(n,arguments)}}(t,n),e)}e._state=1,e._value=n,u(e)}catch(r){f(e,r)}}function f(e,n){e._state=2,e._value=n,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;t>n;n++)r(e,e._deferreds[n]);e._deferreds=null}function c(e,n){var t=!1;try{e(function(e){t||(t=!0,i(n,e))},function(e){t||(t=!0,f(n,e))})}catch(o){if(t)return;t=!0,f(n,o)}}var a=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(e,n,o)),o},o.prototype["finally"]=e,o.all=function(e){return new o(function(t,o){function r(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var u=n.then;if("function"==typeof u)return void u.call(n,function(n){r(e,n)},o)}i[e]=n,0==--f&&t(i)}catch(c){o(c)}}if(!n(e))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var f=i.length,u=0;i.length>u;u++)r(u,i[u])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(t,r){if(!n(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,f=e.length;f>i;i++)o.resolve(e[i]).then(t,r)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in l?l.Promise.prototype["finally"]||(l.Promise.prototype["finally"]=e):l.Promise=o});var WConverwsClient=function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t=t&&t.hasOwnProperty("default")?t.default:t;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,r){return t(r={exports:{}},r.exports),r.exports}var o=e((function(t){!function(n){function e(){}var o=e.prototype,i=n.EventEmitter;function u(t,r){for(var n=t.length;n--;)if(t[n].listener===r)return n;return-1}function a(t){return function(){return this[t].apply(this,arguments)}}o.getListeners=function(t){var r,n,e=this._getEvents();if(t instanceof RegExp)for(n in r={},e)e.hasOwnProperty(n)&&t.test(n)&&(r[n]=e[n]);else r=e[t]||(e[t]=[]);return r},o.flattenListeners=function(t){var r,n=[];for(r=0;r<t.length;r+=1)n.push(t[r].listener);return n},o.getListenersAsObject=function(t){var r,n=this.getListeners(t);return n instanceof Array&&((r={})[t]=n),r||n},o.addListener=function(t,n){if(!function t(n){return"function"==typeof n||n instanceof RegExp||!(!n||"object"!==r(n))&&t(n.listener)}(n))throw new TypeError("listener must be a function");var e,o=this.getListenersAsObject(t),i="object"===r(n);for(e in o)o.hasOwnProperty(e)&&-1===u(o[e],n)&&o[e].push(i?n:{listener:n,once:!1});return this},o.on=a("addListener"),o.addOnceListener=function(t,r){return this.addListener(t,{listener:r,once:!0})},o.once=a("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var r=0;r<t.length;r+=1)this.defineEvent(t[r]);return this},o.removeListener=function(t,r){var n,e,o=this.getListenersAsObject(t);for(e in o)o.hasOwnProperty(e)&&-1!==(n=u(o[e],r))&&o[e].splice(n,1);return this},o.off=a("removeListener"),o.addListeners=function(t,r){return this.manipulateListeners(!1,t,r)},o.removeListeners=function(t,r){return this.manipulateListeners(!0,t,r)},o.manipulateListeners=function(t,n,e){var o,i,u=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!==r(n)||n instanceof RegExp)for(o=e.length;o--;)u.call(this,n,e[o]);else for(o in n)n.hasOwnProperty(o)&&(i=n[o])&&("function"==typeof i?u.call(this,o,i):a.call(this,o,i));return this},o.removeEvent=function(t){var n,e=r(t),o=this._getEvents();if("string"===e)delete o[t];else if(t instanceof RegExp)for(n in o)o.hasOwnProperty(n)&&t.test(n)&&delete o[n];else delete this._events;return this},o.removeAllListeners=a("removeEvent"),o.emitEvent=function(t,r){var n,e,o,i,u=this.getListenersAsObject(t);for(i in u)if(u.hasOwnProperty(i))for(n=u[i].slice(0),o=0;o<n.length;o++)!0===(e=n[o]).once&&this.removeListener(t,e.listener),e.listener.apply(this,r||[])===this._getOnceReturnValue()&&this.removeListener(t,e.listener);return this},o.trigger=a("emitEvent"),o.emit=function(t){var r=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,r)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},t.exports?t.exports=e:n.EventEmitter=e}("undefined"!=typeof window?window:n||{})}));function i(t){var r=Object.prototype.toString.call(t);return"[object Function]"===r||"[object AsyncFunction]"===r}function u(r){var n=null;r.url||(r.url="ws://localhost:8080"),r.token||(r.token="*");var e,o=function(){var t="undefined"!=typeof window&&void 0!==window.document,r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;return{isBrowser:t=t||r,isWebWorker:r,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}}().isBrowser;e=o?("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null).WebSocket:t;try{n=new e(r.url+"/?token="+r.token)}catch(t){n=null}if(null===n)return{error:"can not new MixWS"};function u(){i(r.open)&&r.open()}function a(){i(r.close)&&r.close()}function c(t){i(r.message)&&r.message(t)}function f(t){i(r.error)&&r.error(t),n.close()}return o?(n.onopen=u,n.onmessage=function(t){c(t.data)},n.onclose=a,n.onerror=f):(n.on("open",u),n.on("message",c),n.on("close",a),n.on("error",f)),n}var a=Array.isArray,c="object"==r(n)&&n&&n.Object===Object&&n,f="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,s=c||f||Function("return this")(),l=s.Symbol,v=Object.prototype,p=v.hasOwnProperty,h=v.toString,d=l?l.toStringTag:void 0;var y=function(t){var r=p.call(t,d),n=t[d];try{t[d]=void 0;var e=!0}catch(t){}var o=h.call(t);return e&&(r?t[d]=n:delete t[d]),o},g=Object.prototype.toString;var b=function(t){return g.call(t)},_="[object Null]",m="[object Undefined]",j=l?l.toStringTag:void 0;var w=function(t){return null==t?void 0===t?m:_:j&&j in Object(t)?y(t):b(t)};var A=function(t){return null!=t&&"object"==r(t)},O="[object Symbol]";var x=function(t){return"symbol"==r(t)||A(t)&&w(t)==O},S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;var L=function(t,n){if(a(t))return!1;var e=r(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!x(t))||(E.test(t)||!S.test(t)||null!=n&&t in Object(n))};var U=function(t){var n=r(t);return null!=t&&("object"==n||"function"==n)},B="[object AsyncFunction]",k="[object Function]",P="[object GeneratorFunction]",z="[object Proxy]";var C,R=function(t){if(!U(t))return!1;var r=w(t);return r==k||r==P||r==B||r==z},M=s["__core-js_shared__"],F=(C=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";var T=function(t){return!!F&&F in t},W=Function.prototype.toString;var I=function(t){if(null!=t){try{return W.call(t)}catch(t){}try{return t+""}catch(t){}}return""},$=/^\[object .+?Constructor\]$/,N=Function.prototype,D=Object.prototype,V=N.toString,H=D.hasOwnProperty,G=RegExp("^"+V.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var q=function(t){return!(!U(t)||T(t))&&(R(t)?G:$).test(I(t))};var J=function(t,r){return null==t?void 0:t[r]};var K=function(t,r){var n=J(t,r);return q(n)?n:void 0},Q=K(Object,"create");var X=function(){this.__data__=Q?Q(null):{},this.size=0};var Y=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},Z="__lodash_hash_undefined__",tt=Object.prototype.hasOwnProperty;var rt=function(t){var r=this.__data__;if(Q){var n=r[t];return n===Z?void 0:n}return tt.call(r,t)?r[t]:void 0},nt=Object.prototype.hasOwnProperty;var et=function(t){var r=this.__data__;return Q?void 0!==r[t]:nt.call(r,t)},ot="__lodash_hash_undefined__";var it=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q&&void 0===r?ot:r,this};function ut(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}ut.prototype.clear=X,ut.prototype.delete=Y,ut.prototype.get=rt,ut.prototype.has=et,ut.prototype.set=it;var at=ut;var ct=function(){this.__data__=[],this.size=0};var ft=function(t,r){return t===r||t!=t&&r!=r};var st=function(t,r){for(var n=t.length;n--;)if(ft(t[n][0],r))return n;return-1},lt=Array.prototype.splice;var vt=function(t){var r=this.__data__,n=st(r,t);return!(n<0)&&(n==r.length-1?r.pop():lt.call(r,n,1),--this.size,!0)};var pt=function(t){var r=this.__data__,n=st(r,t);return n<0?void 0:r[n][1]};var ht=function(t){return st(this.__data__,t)>-1};var dt=function(t,r){var n=this.__data__,e=st(n,t);return e<0?(++this.size,n.push([t,r])):n[e][1]=r,this};function yt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}yt.prototype.clear=ct,yt.prototype.delete=vt,yt.prototype.get=pt,yt.prototype.has=ht,yt.prototype.set=dt;var gt=yt,bt=K(s,"Map");var _t=function(){this.size=0,this.__data__={hash:new at,map:new(bt||gt),string:new at}};var mt=function(t){var n=r(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};var jt=function(t,r){var n=t.__data__;return mt(r)?n["string"==typeof r?"string":"hash"]:n.map};var wt=function(t){var r=jt(this,t).delete(t);return this.size-=r?1:0,r};var At=function(t){return jt(this,t).get(t)};var Ot=function(t){return jt(this,t).has(t)};var xt=function(t,r){var n=jt(this,t),e=n.size;return n.set(t,r),this.size+=n.size==e?0:1,this};function St(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}St.prototype.clear=_t,St.prototype.delete=wt,St.prototype.get=At,St.prototype.has=Ot,St.prototype.set=xt;var Et=St,Lt="Expected a function";function Ut(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError(Lt);var n=function n(){var e=arguments,o=r?r.apply(this,e):e[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,e);return n.cache=i.set(o,u)||i,u};return n.cache=new(Ut.Cache||Et),n}Ut.Cache=Et;var Bt=Ut,kt=500;var Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/\\(\\)?/g,Ct=function(t){var r=Bt(t,(function(t){return n.size===kt&&n.clear(),t})),n=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(Pt,(function(t,n,e,o){r.push(e?o.replace(zt,"$1"):n||t)})),r}));var Rt=function(t,r){for(var n=-1,e=null==t?0:t.length,o=Array(e);++n<e;)o[n]=r(t[n],n,t);return o},Mt=1/0,Ft=l?l.prototype:void 0,Tt=Ft?Ft.toString:void 0;var Wt=function t(r){if("string"==typeof r)return r;if(a(r))return Rt(r,t)+"";if(x(r))return Tt?Tt.call(r):"";var n=r+"";return"0"==n&&1/r==-Mt?"-0":n};var It=function(t){return null==t?"":Wt(t)};var $t=function(t,r){return a(t)?t:L(t,r)?[t]:Ct(It(t))},Nt=1/0;var Dt=function(t){if("string"==typeof t||x(t))return t;var r=t+"";return"0"==r&&1/t==-Nt?"-0":r};var Vt=function(t,r){for(var n=0,e=(r=$t(r,t)).length;null!=t&&n<e;)t=t[Dt(r[n++])];return n&&n==e?t:void 0};var Ht=function(t,r,n){var e=null==t?void 0:Vt(t,r);return void 0===e?n:e};function Gt(){var t,r,n=new Promise((function(){t=arguments[0],r=arguments[1]}));return n.resolve=t,n.reject=r,n}var qt=NaN,Jt=/^\s+|\s+$/g,Kt=/^[-+]0x[0-9a-f]+$/i,Qt=/^0b[01]+$/i,Xt=/^0o[0-7]+$/i,Yt=parseInt;var Zt=function(t){if("number"==typeof t)return t;if(x(t))return qt;if(U(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=U(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Jt,"");var n=Qt.test(t);return n||Xt.test(t)?Yt(t.slice(2),n?2:8):Kt.test(t)?qt:+t},tr=1/0,rr=17976931348623157e292;var nr=function(t){return t?(t=Zt(t))===tr||t===-tr?(t<0?-1:1)*rr:t==t?t:0:0===t?t:0};var er=function(t){var r=nr(t),n=r%1;return r==r?n?r-n:r:0};var or=function(t){return"number"==typeof t&&t==er(t)};function ir(t){return"[object String]"===Object.prototype.toString.call(t)}function ur(t){return!(!ir(t)||""===t)}function ar(t){var r=!1;return ur(t)?r=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(r=!0),r}function cr(t){return ar(t)?nr(t):0}var fr=s.isFinite,sr=Math.min;var lr=function(t){var r=Math[t];return function(t,n){if(t=Zt(t),(n=null==n?0:sr(er(n),292))&&fr(t)){var e=(It(t)+"e").split("e"),o=r(e[0]+"e"+(+e[1]+n));return+((e=(It(o)+"e").split("e"))[0]+"e"+(+e[1]-n))}return r(t)}}("round");function vr(t){return!!function(t){return!!ar(t)&&(t=cr(t),or(t))}(t)&&function(t){if(!ar(t))return 0;t=cr(t);var r=lr(t);return"0"===String(r)?0:r}(t)>0}function pr(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[],o=n.length;if(vr(r))for(t=0;t<r;t++)e[t]=n[0|Math.random()*o];else{if("rfc4122"!==r)return"";var i;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",t=0;t<36;t++)e[t]||(i=0|16*Math.random(),e[t]=n[19===t?3&i|8:i])}return e.join("")}var hr=function(t,r,n){var e=-1,o=t.length;r<0&&(r=-r>o?0:o+r),(n=n>o?o:n)<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(o);++e<o;)i[e]=t[e+r];return i},dr=9007199254740991;var yr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=dr};var gr=function(t){return null!=t&&yr(t.length)&&!R(t)},br=9007199254740991,_r=/^(?:0|[1-9]\d*)$/;var mr=function(t,n){var e=r(t);return!!(n=null==n?br:n)&&("number"==e||"symbol"!=e&&_r.test(t))&&t>-1&&t%1==0&&t<n};var jr=function(t,n,e){if(!U(e))return!1;var o=r(n);return!!("number"==o?gr(e)&&mr(n,e.length):"string"==o&&n in e)&&ft(e[n],t)},wr=Math.ceil,Ar=Math.max;var Or=function(t,r,n){r=(n?jr(t,r,n):void 0===r)?1:Ar(er(r),0);var e=null==t?0:t.length;if(!e||r<1)return[];for(var o=0,i=0,u=Array(wr(e/r));o<e;)u[i++]=hr(t,o,o+=r);return u},xr=Array.prototype.join;var Sr=function(t,r){return null==t?"":xr.call(t,r)};var Er=function(t,r){for(var n=-1,e=null==t?0:t.length;++n<e&&!1!==r(t[n],n,t););return t};var Lr=function(t){return function(r,n,e){for(var o=-1,i=Object(r),u=e(r),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return r}}();var Ur=function(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e},Br="[object Arguments]";var kr=function(t){return A(t)&&w(t)==Br},Pr=Object.prototype,zr=Pr.hasOwnProperty,Cr=Pr.propertyIsEnumerable,Rr=kr(function(){return arguments}())?kr:function(t){return A(t)&&zr.call(t,"callee")&&!Cr.call(t,"callee")};var Mr=function(){return!1},Fr=e((function(t,r){var n=r&&!r.nodeType&&r,e=n&&t&&!t.nodeType&&t,o=e&&e.exports===n?s.Buffer:void 0,i=(o?o.isBuffer:void 0)||Mr;t.exports=i})),Tr={};Tr["[object Float32Array]"]=Tr["[object Float64Array]"]=Tr["[object Int8Array]"]=Tr["[object Int16Array]"]=Tr["[object Int32Array]"]=Tr["[object Uint8Array]"]=Tr["[object Uint8ClampedArray]"]=Tr["[object Uint16Array]"]=Tr["[object Uint32Array]"]=!0,Tr["[object Arguments]"]=Tr["[object Array]"]=Tr["[object ArrayBuffer]"]=Tr["[object Boolean]"]=Tr["[object DataView]"]=Tr["[object Date]"]=Tr["[object Error]"]=Tr["[object Function]"]=Tr["[object Map]"]=Tr["[object Number]"]=Tr["[object Object]"]=Tr["[object RegExp]"]=Tr["[object Set]"]=Tr["[object String]"]=Tr["[object WeakMap]"]=!1;var Wr=function(t){return A(t)&&yr(t.length)&&!!Tr[w(t)]};var Ir=function(t){return function(r){return t(r)}},$r=e((function(t,r){var n=r&&!r.nodeType&&r,e=n&&t&&!t.nodeType&&t,o=e&&e.exports===n&&c.process,i=function(){try{var t=e&&e.require&&e.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),Nr=$r&&$r.isTypedArray,Dr=Nr?Ir(Nr):Wr,Vr=Object.prototype.hasOwnProperty;var Hr=function(t,r){var n=a(t),e=!n&&Rr(t),o=!n&&!e&&Fr(t),i=!n&&!e&&!o&&Dr(t),u=n||e||o||i,c=u?Ur(t.length,String):[],f=c.length;for(var s in t)!r&&!Vr.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||mr(s,f))||c.push(s);return c},Gr=Object.prototype;var qr=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||Gr)};var Jr=function(t,r){return function(n){return t(r(n))}}(Object.keys,Object),Kr=Object.prototype.hasOwnProperty;var Qr=function(t){if(!qr(t))return Jr(t);var r=[];for(var n in Object(t))Kr.call(t,n)&&"constructor"!=n&&r.push(n);return r};var Xr=function(t){return gr(t)?Hr(t):Qr(t)};var Yr=function(t,r){return function(n,e){if(null==n)return n;if(!gr(n))return t(n,e);for(var o=n.length,i=r?o:-1,u=Object(n);(r?i--:++i<o)&&!1!==e(u[i],i,u););return n}}((function(t,r){return t&&Lr(t,r,Xr)}));var Zr=function(t){return t};var tn=function(t){return"function"==typeof t?t:Zr};var rn=function(t,r){return(a(t)?Er:Yr)(t,tn(r))};function nn(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function en(t){return"[object Uint16Array]"===Object.prototype.toString.call(t)}function on(t,r){return ur(t)&&vr(r)?t.substr(0,r):""}function un(t,r){return ur(t)&&vr(r)?function(t,r){if(!ur(t))return"";if(!vr(r))return"";var n=t.length-r;return n<0&&(n=0),t.substr(n,r)}(t,t.length-r):""}var an=e((function(t,r){var n;t.exports=(n=n||function(t,r){var n=Object.create||function(){function t(){}return function(r){var n;return t.prototype=r,n=new t,t.prototype=null,n}}(),e={},o=e.lib={},i=o.Base={extend:function(t){var r=n(this);return t&&r.mixIn(t),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=o.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=null!=r?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var r=this.words,n=t.words,e=this.sigBytes,o=t.sigBytes;if(this.clamp(),e%4)for(var i=0;i<o;i++){var u=n[i>>>2]>>>24-i%4*8&255;r[e+i>>>2]|=u<<24-(e+i)%4*8}else for(i=0;i<o;i+=4)r[e+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var r=this.words,n=this.sigBytes;r[n>>>2]&=4294967295<<32-n%4*8,r.length=t.ceil(n/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(r){for(var n,e=[],o=function(r){r=r;var n=987654321,e=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&e)<<16)+(r=18e3*(65535&r)+(r>>16)&e)&e;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},i=0;i<r;i+=4){var a=o(4294967296*(n||t.random()));n=987654071*a(),e.push(4294967296*a()|0)}return new u.init(e,r)}}),a=e.enc={},c=a.Hex={stringify:function(t){for(var r=t.words,n=t.sigBytes,e=[],o=0;o<n;o++){var i=r[o>>>2]>>>24-o%4*8&255;e.push((i>>>4).toString(16)),e.push((15&i).toString(16))}return e.join("")},parse:function(t){for(var r=t.length,n=[],e=0;e<r;e+=2)n[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new u.init(n,r/2)}},f=a.Latin1={stringify:function(t){for(var r=t.words,n=t.sigBytes,e=[],o=0;o<n;o++){var i=r[o>>>2]>>>24-o%4*8&255;e.push(String.fromCharCode(i))}return e.join("")},parse:function(t){for(var r=t.length,n=[],e=0;e<r;e++)n[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new u.init(n,r)}},s=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=s.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(r){var n=this._data,e=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),c=(a=r?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*i,f=t.min(4*c,o);if(c){for(var s=0;s<c;s+=i)this._doProcessBlock(e,s);var l=e.splice(0,c);n.sigBytes-=f}return new u.init(l,f)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(o.Hasher=l.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(r,n){return new t.init(n).finalize(r)}},_createHmacHelper:function(t){return function(r,n){return new v.HMAC.init(t,n).finalize(r)}}}),e.algo={});return e}(Math),n)})),cn=e((function(t,r){var n,e,o;t.exports=(e=(n=o=an).lib.WordArray,n.enc.Base64={stringify:function(t){var r=t.words,n=t.sigBytes,e=this._map;t.clamp();for(var o=[],i=0;i<n;i+=3)for(var u=(r[i>>>2]>>>24-i%4*8&255)<<16|(r[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|r[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(e.charAt(u>>>6*(3-a)&63));var c=e.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var r=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var u=n.charAt(64);if(u){var a=t.indexOf(u);-1!==a&&(r=a)}return function(t,r,n){for(var o=[],i=0,u=0;u<r;u++)if(u%4){var a=n[t.charCodeAt(u-1)]<<u%4*2,c=n[t.charCodeAt(u)]>>>6-u%4*2;o[i>>>2]|=(a|c)<<24-i%4*8,i++}return e.create(o,i)}(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)})),fn=e((function(t,r){var n;t.exports=(n=an,function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,r=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,e=[],o=0;o<n;o++)e[o>>>2]|=t[o]<<24-o%4*8;r.call(this,e,n)}else r.apply(this,arguments)}).prototype=t}}(),n.lib.WordArray)}));function sn(t){return nn(t)?fn.create(t).toString(cn):""}function ln(t){if(!ir(t))return new Uint8Array;for(var r=cn.parse(t),n=r.words,e=r.sigBytes,o=new Uint8Array(e),i=0;i<e;i++){var u=n[i>>>2]>>>24-i%4*8&255;o[i]=u}return o}function vn(t){return en(t)?sn(function(t){return en(t)?new Uint8Array(t):new Uint8Array}(t)):""}function pn(t){return ir(t)?function(t){return nn(t)?new Uint16Array(t):new Uint16Array}(ln(t)):new Uint16Array}var hn="[Uint8Array]::";var dn="[Uint16Array]::";var yn={tagU8A:hn,u8arr2b64:function(t){return nn(t)?hn+sn(t):t},b642u8arr:function(t){return ir(t)&&on(t,hn.length)===hn?ln(t=un(t,hn.length)):t},tagU16A:dn,u16arr2b64:function(t){return en(t)?dn+vn(t):t},b642u16arr:function(t){return ir(t)&&on(t,dn.length)===dn?pn(t=un(t,dn.length)):t}};function gn(t){return"[object Array]"===Object.prototype.toString.call(t)}function bn(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Uint8Array";if(r=t,"[object Undefined]"===Object.prototype.toString.call(r))return"";if(ir(n))n=[n];else if(!gn(n))return"";var e="";try{e=JSON.stringify(t,(function(t,r){return n.indexOf("Uint8Array")>=0&&(r=yn.u8arr2b64(r)),n.indexOf("Uint16Array")>=0&&(r=yn.u16arr2b64(r)),r}))}catch(t){e=""}return e}var _n=function(t,r,n){var e=t.length;return n=void 0===n?e:n,!r&&n>=e?t:hr(t,r,n)},mn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var jn=function(t){return mn.test(t)},wn="[object RegExp]";var An=function(t){return A(t)&&w(t)==wn},On=$r&&$r.isRegExp,xn=On?Ir(On):An;var Sn=function(t){return t.split("")},En="[\\ud800-\\udfff]",Ln="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Un="\\ud83c[\\udffb-\\udfff]",Bn="[^\\ud800-\\udfff]",kn="(?:\\ud83c[\\udde6-\\uddff]){2}",Pn="[\\ud800-\\udbff][\\udc00-\\udfff]",zn="(?:"+Ln+"|"+Un+")"+"?",Cn="[\\ufe0e\\ufe0f]?"+zn+("(?:\\u200d(?:"+[Bn,kn,Pn].join("|")+")[\\ufe0e\\ufe0f]?"+zn+")*"),Rn="(?:"+[Bn+Ln+"?",Ln,kn,Pn,En].join("|")+")",Mn=RegExp(Un+"(?="+Un+")|"+Rn+Cn,"g");var Fn=function(t){return t.match(Mn)||[]};var Tn=function(t){return jn(t)?Fn(t):Sn(t)},Wn=4294967295;var In=function(t,r,n){return n&&"number"!=typeof n&&jr(t,r,n)&&(r=n=void 0),(n=void 0===n?Wn:n>>>0)?(t=It(t))&&("string"==typeof r||null!=r&&!xn(r))&&!(r=Wt(r))&&jn(t)?_n(Tn(t),0,n):t.split(r,n):[]};var $n=function(t,r,n){var e=null==t?0:t.length;return e?(r=n||void 0===r?1:er(r),hr(t,r<0?0:r,e)):[]},Nn=Math.ceil,Dn=Math.max;var Vn=function(t,r,n,e){for(var o=-1,i=Dn(Nn((r-t)/(n||1)),0),u=Array(i);i--;)u[e?i:++o]=t,t+=n;return u};var Hn=function(t){return function(r,n,e){return e&&"number"!=typeof e&&jr(r,n,e)&&(n=e=void 0),r=nr(r),void 0===n?(n=r,r=0):n=nr(n),e=void 0===e?r<n?1:-1:nr(e),Vn(r,n,e,t)}}();function Gn(t,r){return n=t,"[object Object]"===Object.prototype.toString.call(n)&&(!!ur(r)&&r in t);var n}var qn={};function Jn(t,r){var n=In(t,"|"),e=n[0],o=Zt(n[1]),i=Zt(n[2]),u=Sr($n(n,3),"|");if(Gn(qn,e)||(qn[e]={}),qn[e]["_"+o]=u,o===i-1){var a="";rn(Hn(i),(function(t){a+=qn[e]["_"+t]})),delete qn[e],r(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Uint8Array";if(ir(r))r=[r];else if(!gn(r))return{};var n={};try{n=JSON.parse(t,(function(t,n){return r.indexOf("Uint8Array")>=0&&(n=yn.b642u8arr(n)),r.indexOf("Uint16Array")>=0&&(n=yn.b642u16arr(n)),n}))}catch(t){n={}}return n}(a))}}return function(t){var r=!1,n=null,e=new o,i=new o;function a(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];setTimeout((function(){e.emit.apply(e,[t].concat(n))}),1)}function c(){t.url||(t.url="ws://localhost:8080"),t.token||(t.token="*"),t.strSplitLength||(t.strSplitLength=1e6);var o={url:t.url,token:t.token,open:function(){a("open"),r||(a("openOnce"),r=!0)},close:function(){a("close"),f()},message:function(t){!function(t){Jn(t,s)}(t)},error:function(t){c(t)}};try{n=new u(o)}catch(t){return a("error",{msg:"can not create websocket",err:t}),void f()}if(Ht(n,"error"))return a("error",{msg:"can not create websocket",err:"can not new MixWS in WWebsocketClient"}),void f();function c(t){a("error",{msg:"websocket error",err:t}),n.close()}function s(t){var r=Ht(t,"_mode","");if("execute"===r)if(Ht(t,"_id")&&Ht(t,"output")){var n=Ht(t,"_id"),e=Ht(t,"output");i.emit(n,e)}else a("error",{msg:"can not find _id and output in data",err:t});else"broadcast"===r?a("broadcast",Ht(t,"data")):"deliver"===r?a("deliver",Ht(t,"data")):c({msg:"can not find _mode in data",err:t})}function l(r,e){n.readyState===n.OPEN&&function(t,r,n,e,o){var i=bn(n),u=Or(i,r),a=pr(),c=u.length;rn(u,(function(r,n){r=Sr(r,"");var i="".concat(a,"|").concat(n,"|").concat(c,"|").concat(r);t.send(i,(function(t){t&&R(o)&&o(t)})),R(e)&&e((n+1)/c*100)}))}(n,t.strSplitLength,r,e,(function(t){a("error",{msg:"can not send message",err:t})}))}e.removeAllListeners("triggerExecute"),e.on("triggerExecute",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=pr();l({_mode:"execute",_id:o,func:t,input:r},e),i.on(o,(function(t){n(t),i.removeAllListeners(o)}))})),e.removeAllListeners("triggerBroadcast"),e.on("triggerBroadcast",(function(t,r){l({_mode:"broadcast",data:t},r)})),e.removeAllListeners("triggerDeliver"),e.on("triggerDeliver",(function(t,r){l({_mode:"deliver",data:t},r)}))}function f(){setTimeout((function(){a("reconn"),c()}),1e3)}return e.execute=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},e=Gt();return a("triggerExecute",t,r,(function(t){e.resolve(t)}),n),e},e.broadcast=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a("triggerBroadcast",t,r)},e.deliver=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a("triggerDeliver",t,r)},c(),e}}();var wo=null,bInit=!1;function init(a){bInit||(wo=new WConverwsClient(a),wo.on("open",function(){sendSystemMessage("open")}),wo.on("openOnce",function(){sendSystemMessage("openOnce"),bInit=!0}),wo.on("close",function(){sendSystemMessage("close")}),wo.on("error",function(a){sendSystemMessage("error",a)}),wo.on("reconn",function(){sendSystemMessage("reconn")}),wo.on("broadcast",function(a){sendSystemMessage("broadcast",a)}),wo.on("deliver",function(a){sendSystemMessage("deliver",a)}))}function sendMessage(a){self.postMessage(a)}function sendSystemMessage(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;sendMessage({_id:"system",func:a,data:b})}self.onmessage=function(a){var b=a.data,c=b.type;if("init"===c){var d=b._id,e=b.input;init(e);var k=setInterval(function(){if(bInit){sendMessage({_id:d,output:null}),clearInterval(k)}},10)}else if("execute"===c){var f=b._id,g=b.func,h=b.input;wo.execute(g,h,function(a){sendMessage({_id:f,prog:a})}).then(function(a){sendMessage({_id:f,output:a})})}else if("broadcast"===c||"deliver"===c){var i=b._id,j=b.input;wo[c](j,function(a){sendMessage({_id:i,prog:a})})}else sendSystemMessage("error","type error: ".concat(c))};